# 프로젝트 설명

이 프로젝트는 `JPA`를 사용하여 `Member`, `Team`, `AddressEntity`, `FavoriteFood`와 같은 엔티티 간의 관계를 다루는 예제 프로젝트입니다. `EntityManagerFactory`를 활용하여 데이터베이스 연동을 처리하고, 샘플 데이터를 생성하고 조회하는 기능을 포함하고 있습니다.

## 프로젝트 구조

- **com.taehun.entity**
  - `Address`: 임베디드 타입으로, 주소 관련 필드를 담고 있습니다.
  - `AddressEntity`: 주소 엔티티로 `Address` 객체를 포함하며, 여러 주소를 다룰 수 있도록 설정되어 있습니다.
  - `Member`: 회원 엔티티로, 이름, 팀, 즐겨찾는 음식 및 주소 목록을 관리합니다.
  - `FavoriteFood`: 즐겨찾는 음식 엔티티로, 회원과 연관되어 있습니다.
  - `Team`: 팀 엔티티로, 여러 회원과 연관되어 있습니다.

- **com.taehun.utilities**
  - `JpaBooks`: 샘플 데이터를 생성하고, 임의의 팀 및 회원을 배정하는 유틸리티 클래스입니다.

- **com.taehun**
  - `Main`: 프로젝트의 메인 실행 클래스입니다. 샘플 데이터를 생성하고, 회원의 즐겨찾는 음식 및 주소를 업데이트하는 로직을 포함하고 있습니다.

## 주요 기능

1. **샘플 데이터 생성**: `initMemberTeamSampleData` 메소드를 통해 여러 팀과 회원 데이터를 생성합니다.
2. **즐겨찾는 음식 추가**: 특정 회원에게 즐겨찾는 음식을 추가하는 `insertFavoriteFood` 메소드가 구현되어 있습니다.
3. **주소 업데이트**: 회원의 기존 주소를 삭제하고 새로운 주소를 추가하는 `updateAddress` 메소드가 있습니다.
4. **즐겨찾는 음식 업데이트**: 회원의 즐겨찾는 음식 중 일부를 삭제하고 새로운 음식을 추가하는 `updatefavoritefood` 메소드가 있습니다.

## 클래스 설명

### 1. `Address`

- 주소 정보를 담는 임베디드 타입입니다.
- 필드: `street`, `city`, `zipcode`

### 2. `AddressEntity`

- 주소 엔티티로, 여러 개의 주소를 다룰 수 있습니다.
- 필드: `id`, `address`, `member`

### 3. `Member`

- 회원 엔티티로, 여러 팀에 속할 수 있으며, 즐겨찾는 음식과 주소 목록을 가지고 있습니다.
- 필드: `id`, `name`, `team`, `favoriteFoods`, `addressList`

### 4. `Team`

- 팀 엔티티로, 여러 회원과 연결됩니다.
- 필드: `id`, `name`, `memberList`

### 5. `FavoriteFood`

- 즐겨찾는 음식 엔티티로, 특정 회원과 연결됩니다.
- 필드: `id`, `Foodname`, `member`


### 6. `Main`

- 프로젝트의 메인 클래스입니다. 이 클래스는 `EntityManager`를 사용하여 데이터베이스와의 트랜잭션을 관리하며, 샘플 데이터를 생성하고 회원의 정보를 업데이트하는 기능을 제공합니다.
  
#### 주요 메소드
1. **`main` 메소드**:
   - 프로젝트의 진입점으로, `EntityManager`와 트랜잭션을 관리합니다.
   - `JpaBooks.initMemberTeamSampleData`를 통해 팀과 회원의 샘플 데이터를 생성합니다.
   - 생성된 회원의 ID를 이용해 즐겨찾는 음식을 추가하고, 주소 및 즐겨찾는 음식 목록을 업데이트합니다.

2. **`insertFavoriteFood(List<Long> memberIds)`**:
   - 임의로 선택된 회원에게 즐겨찾는 음식을 추가합니다.
   - 3개의 음식 (`피자`, `돈까스`, `짜장면`)을 회원의 즐겨찾는 음식 리스트에 추가하고, 두 개의 주소를 회원의 주소 목록에 추가합니다.

3. **`updateAddress(Long memberId)`**:
   - 특정 회원의 첫 번째 주소를 삭제하고, 새로운 주소를 추가하는 메소드입니다.
   - `AddressEntity`를 사용하여 주소 목록을 관리하며, 변경 사항을 데이터베이스에 반영합니다.

4. **`updateFavoriteFood(Long memberId)`**:
   - 특정 회원의 즐겨찾는 음식 중에서 `짜장면`을 삭제하고, 새로운 음식인 `탕수육`을 추가하는 메소드입니다.
   - `Member` 객체의 `favoriteFoods` 리스트를 직접 수정하여 음식 목록을 관리합니다.

#### 실행 흐름
1. `main` 메소드가 실행되면 샘플 데이터가 먼저 생성됩니다.
2. 생성된 회원 중 하나를 선택하여 `insertFavoriteFood`를 호출, 회원에게 즐겨찾는 음식과 주소를 추가합니다.
3. `updateAddress` 메소드를 통해 회원의 주소를 수정하고, `updateFavoriteFood` 메소드로 회원의 즐겨찾는 음식 목록을 업데이트합니다.

#### 사용된 유틸리티
- `JpaBooks`: 샘플 데이터를 생성하기 위한 유틸리티 클래스입니다. 임의의 팀과 회원 데이터를 생성하고, 특정 범위 내의 랜덤 ID를 생성하는 기능을 포함하고 있습니다.

### 예시 실행 결과
- 10개의 팀과 10명의 회원이 생성됩니다.
- 각 회원에게 임의로 팀이 배정되고, 회원의 즐겨찾는 음식과 주소가 관리됩니다.
- 이후 특정 회원의 즐겨찾는 음식 목록이 수정되고, 주소가 업데이트됩니다.


## 실행 방법

1. `Main` 클래스를 실행하여 데이터베이스와의 연결을 설정하고, 샘플 데이터를 생성합니다.
2. 샘플 데이터가 생성된 후, 회원의 즐겨찾는 음식 및 주소를 업데이트할 수 있습니다.

## 추가 정보

- **JPA**: 이 프로젝트는 `JPA`를 사용하여 ORM 매핑을 구현하였습니다.
- **Lombok**: `@Getter`, `@Setter`, `@NoArgsConstructor`, `@AllArgsConstructor` 등의 Lombok 어노테이션을 사용하여 코드의 간결성을 유지하였습니다.
